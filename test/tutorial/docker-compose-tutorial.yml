version: '3.3'
services:

  bgw-ssl:
    image: "linksmart/bgw:test"
    environment:
      LOG_LEVEL: "debug"
    ports:
      - 8443:443
    networks:
      - backend_services
      - openid_web
      - public
      - bgw
    volumes:
      - "./volumes/bgw/config:/bgw/config"
      - "../../certs:/bgw/certs"

  redis:
    image: redis:5-alpine
    ports:
      - 6379:6379
    networks:
      - bgw

networks:
  public:
    driver: bridge
  bgw:
    driver: bridge
  backend_services:
    external: true
  openid_web:
    external: true